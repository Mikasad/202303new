/**  ******************************************************************************  * @file    pmsm_motor_parameters.h  * @author  Motor Control SDK Team, ST Microelectronics  * @brief   This file contains the parameters needed for the Motor Control SDK  *          in order to configure the motor to drive.  *  ******************************************************************************  * @attention  *  * <h2><center>&copy; Copyright (c) 2019 STMicroelectronics.  * All rights reserved.</center></h2>  *  * This software component is licensed by ST under Ultimate Liberty license  * SLA0044, the "License"; You may not use this file except in compliance with  * the License. You may obtain a copy of the License at:  *                             www.st.com/SLA0044  *  ******************************************************************************  *//* Define to prevent recursive inclusion -------------------------------------*/#ifndef __PMSM_MOTOR_PARAMETERS_H#define __PMSM_MOTOR_PARAMETERS_H/************************** *** Motor 1 Parameters *** **************************///int32_t POLE_PAIR_NUM = 15;//int32_t RS = 0.35;//int32_t LS = 0.0006;//int32_t MAX_CURRENT = 11915*2;       //int32_t NOMINAL_CURRENT = 11915;       //int32_t MOTOR_MAX_SPEED_RPM = 300 ;  //int32_t MOTOR_VOLTAGE_CONSTANT = 0.1; /*!< Volts RMS ph-ph /kRPM *///int32_t ID_DEMAG = -11915;            /*!< Demagnetization current *///int32_t M1_ENCODER_PPR = 4096;//int32_t POLE_PAIR_NUM2 = 15;//int32_t RS2 = 0.35;//int32_t LS2 = 0.0006;//int32_t MAX_CURRENT2 = 11915*2;       //int32_t NOMINAL_CURRENT2 = 11915;       //int32_t MOTOR_MAX_SPEED_RPM2 = 300 ;  //int32_t MOTOR_VOLTAGE_CONSTANT2 = 0.1; /*!< Volts RMS ph-ph /kRPM *///int32_t ID_DEMAG2 = -11915;            /*!< Demagnetization current *///int32_t M2_ENCODER_PPR = 4096;/***************** MOTOR ELECTRICAL PARAMETERS  ******************************/#define POLE_PAIR_NUM        10 /* Number of motor pole pairs */#define RS                     0.35 /* Stator resistance , ohm*/#define LS                     0.000600 /* Stator inductance, H                                                 For I-PMSM it is equal to Lq *//* When using Id = 0, NOMINAL_CURRENT is utilized to saturate the output of the   PID for speed regulation (i.e. reference torque).   Transformation of real currents (A) into int16_t format must be done accordingly with   formula:   Phase current (int16_t 0-to-peak) = (Phase current (A 0-to-peak)* 32767 * Rshunt *                                   *Amplifying network gain)/(MCU supply voltage/2)*/#define MAX_CURRENT         5950*5#define NOMINAL_CURRENT         MAX_CURRENT//  //11900#define MOTOR_MAX_SPEED_RPM     300 /*!< Maximum rated speed  */#define MOTOR_VOLTAGE_CONSTANT  0.1 /*!< Volts RMS ph-ph /kRPM */#define ID_DEMAG                -MAX_CURRENT//-11915 /*!< Demagnetization current *//***************** MOTOR SENSORS PARAMETERS  ******************************//* Motor sensors parameters are always generated but really meaningful only   if the corresponding sensor is actually present in the motor         *//*** Hall sensors ***/#define HALL_SENSORS_PLACEMENT  DEGREES_120 /*!<Define here the                                                 mechanical position of the sensors                                                 withreference to an electrical cycle.                                                 It can be either DEGREES_120 or                                                 DEGREES_60 */																								 extern long  HALL_PHASE_SHIFT,HALL_PHASE_SHIFT2;//#define HALL_PHASE_SHIFT        300 /*!< Define here in degrees//                                                 the electrical phase shift between//                                                 the low to high transition of//                                                 signal H1 and the maximum of//                                                 the Bemf induced on phase A */#define S16_120_PHASE_SHIFT (int16_t)(65536/3)#define S16_60_PHASE_SHIFT  (int16_t)(65536/6)#define STATE_0 (uint8_t)0#define STATE_1 (uint8_t)1#define STATE_2 (uint8_t)2#define STATE_3 (uint8_t)3#define STATE_4 (uint8_t)4#define STATE_5 (uint8_t)5#define STATE_6 (uint8_t)6#define STATE_7 (uint8_t)7																							 /*** Quadrature encoder ***/#define M1_ENCODER_PPR            4096 /*!< Number of pulses per  4096                                            revolution */#define RAD_PULSE        6283.18531//  2*pi*1000///***************** MOTOR ELECTRICAL PARAMETERS  ******************************/#define POLE_PAIR_NUM2          10 /* Number of motor pole pairs */#define RS2                     0.35 /* Stator resistance , ohm*/#define LS2                     0.000600 /* Stator inductance, H                                                 For I-PMSM it is equal to Lq *//* When using Id = 0, NOMINAL_CURRENT is utilized to saturate the output of the   PID for speed regulation (i.e. reference torque).   Transformation of real currents (A) into int16_t format must be done accordingly with   formula:   Phase current (int16_t 0-to-peak) = (Phase current (A 0-to-peak)* 32767 * Rshunt *                                   *Amplifying network gain)/(MCU supply voltage/2)*/#define NOMINAL_CURRENT2         MAX_CURRENT//11915#define MOTOR_MAX_SPEED_RPM2     300 /*!< Maximum rated speed  */#define MOTOR_VOLTAGE_CONSTANT2  0.1 /*!< Volts RMS ph-ph /kRPM */#define ID_DEMAG2                -MAX_CURRENT//-11915 /*!< Demagnetization current *//***************** MOTOR SENSORS PARAMETERS  ******************************//* Motor sensors parameters are always generated but really meaningful only   if the corresponding sensor is actually present in the motor         *//*** Hall sensors ***/#define HALL_SENSORS_PLACEMENT2  DEGREES_120 /*!<Define here the                                                 mechanical position of the sensors                                                 withreference to an electrical cycle.                                                 It can be either DEGREES_120 or                                                 DEGREES_60 */////#define HALL_PHASE_SHIFT2        300 /*!< Define here in degrees//                                                 the electrical phase shift between//                                                 the low to high transition of//                                                 signal H1 and the maximum of//                                                 the Bemf induced on phase A *//*** Quadrature encoder ***/#define M2_ENCODER_PPR             4096 /*!< Number of pulses per//                                            revolution */#endif /*__PMSM_MOTOR_PARAMETERS_H*//******************* (C) COPYRIGHT 2019 STMicroelectronics *****END OF FILE****/